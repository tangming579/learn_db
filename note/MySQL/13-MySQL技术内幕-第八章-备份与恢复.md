### 备份与恢复概述

按备份方法分类：

- （Hot Backup）热备
- （Cold Backup）冷备
- （Warm Backup）温备

按备份后文件内容分类：

- 逻辑备份
- 裸文件备份

### 快照备份



### 复制

#### 复制的工作原理

复制（replication）是MySQL数据库提供的一种高可用高性能解决方案，主要分为以下三步：

- 主数据库（master）把数据更改记录到二进制日志中（binlog）
- 从数据库（slave）把主数据库的二进制日志复制到自己的中继日志中（relay log）
- 从服务器重做中继日志中的日志，把更改应用到自己的数据库上

<div>
    <image src="img\5.png" height=300></image>
</div>
#### 快照 + 复制的备份架构

复制的主要功能：

- 数据分布
- 读取负载平衡，如通过LVS
- 数据库备份
- 高可用性和故障转移

为了避免在主服务器上执行了误操作导致从服务器也跟着运行了误操作，比较好的方式是对从服务器上的数据库所在分区做快照。当发生主服务器上的误操作时，只需要将从服务器上的快照进行恢复，再根据二进制日志进行 point-in-time 的恢复即可。

<div>
    <image src="img/6.png"></image>
</div>

